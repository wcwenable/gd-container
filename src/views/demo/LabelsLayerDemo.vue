<template>
<div id="container"></div>
</template>

<script>
export default {
  name: 'HelloWorld',
  props: {
    msg: String
  },
  data () {
    return {
      LabelsData: [
        {
          name: '全聚德烤鸭',
          position: [116.467456, 39.994996],
          zooms: [10, 20],
          opacity: 1,
          zIndex: 10,
          icon: {
            type: 'image',
            image: 'https://a.amap.com/jsapi_demos/static/images/poi-marker.png',
            clipOrigin: [14, 92],
            clipSize: [50, 68],
            size: [25, 34],
            anchor: 'bottom-center',
            angel: 0,
            retina: true
          },
          text: {
            content: '全聚德烤鸭',
            direction: 'left',
            offset: [0, -5],
            style: {
              fontSize: 15,
              fontWeight: 'normal',
              fillColor: '#333',
              strokeColor: '#fff',
              strokeWidth: 2
            }
          }
        },
        {
          name: '绥兴盛',
          position: [116.469412, 39.996412],
          zooms: [10, 20],
          opacity: 1,
          zIndex: 16,
          icon: {
            type: 'image',
            image: 'https://a.amap.com/jsapi_demos/static/images/poi-marker.png',
            clipOrigin: [101, 92],
            clipSize: [50, 68],
            size: [25, 34],
            anchor: 'bottom-center',
            angel: 0,
            retina: true
          },
          text: {
            content: '绥兴盛',
            direction: 'top',
            offset: [0, 0],
            style: {
              fontSize: 15,
              fontWeight: 'normal',
              fillColor: '#333',
              strokeColor: '#fff',
              strokeWidth: 2
            }
          }
        },
        {
          name: '香河肉饼',
          position: [116.471871, 39.995616],
          zooms: [10, 20],
          opacity: 1,
          zIndex: 8,
          icon: {
            type: 'image',
            image: 'https://a.amap.com/jsapi_demos/static/images/poi-marker.png',
            clipOrigin: [194, 92],
            clipSize: [50, 68],
            size: [25, 34],
            anchor: 'bottom-center',
            angel: 0,
            retina: true
          },
          text: {
            content: '香河肉饼',
            direction: 'right',
            offset: [0, -5],
            style: {
              fontSize: 15,
              fontWeight: 'normal',
              fillColor: '#333',
              strokeColor: '#fff',
              strokeWidth: 2
            }
          }
        },
        {
          name: '金鼎轩',
          position: [116.468098, 39.993729],
          zooms: [10, 20],
          opacity: 1,
          zIndex: 23,
          icon: {
            type: 'image',
            image: 'https://a.amap.com/jsapi_demos/static/images/poi-marker.png',
            clipOrigin: [283, 92],
            clipSize: [50, 68],
            size: [25, 34],
            anchor: 'bottom-center',
            angel: 0,
            retina: true
          },
          text: {
            content: '金鼎轩',
            direction: 'bottom',
            offset: [0, 0],
            style: {
              fontSize: 15,
              fontWeight: 'normal',
              fillColor: '#333',
              strokeColor: '#fff',
              strokeWidth: 2
            }
          }
        },
        {
          name: '湘西土菜',
          position: [116.464471, 39.996690],
          zooms: [10, 20],
          opacity: 1,
          zIndex: 6,
          icon: {
            type: 'image',
            image: 'https://a.amap.com/jsapi_demos/static/images/poi-marker.png',
            clipOrigin: [370, 92],
            clipSize: [50, 68],
            size: [25, 34],
            anchor: 'bottom-center',
            angel: 0,
            retina: true
          },
          text: {
            content: '湘西土菜',
            direction: 'left',
            offset: [-3, -7],
            style: {
              fontSize: 13,
              fontWeight: 'normal',
              fillColor: '#fff',
              padding: '2, 5',
              backgroundColor: '#b1009b'
            }
          }
        },
        {
          name: '香猪坊',
          position: [116.468599, 39.995847],
          zooms: [10, 20],
          opacity: 1,
          zIndex: 5,
          icon: {
            type: 'image',
            image: 'https://a.amap.com/jsapi_demos/static/images/poi-marker.png',
            clipOrigin: [459, 92],
            clipSize: [50, 68],
            size: [25, 34],
            anchor: 'bottom-center',
            angel: 0,
            retina: true
          },
          text: {
            content: '香猪坊',
            direction: 'top',
            offset: [0, 0],
            style: {
              fontSize: 15,
              fontWeight: 'normal',
              fillColor: '#333',
              strokeColor: '#fff',
              strokeWidth: 2
            }
          }
        },
        {
          name: '京味斋烤鸭店',
          position: [116.462483, 39.992492],
          zooms: [10, 20],
          opacity: 1,
          zIndex: 4,
          icon: {
            type: 'image',
            image: 'https://a.amap.com/jsapi_demos/static/images/poi-marker.png',
            clipOrigin: [547, 92],
            clipSize: [50, 68],
            size: [25, 34],
            anchor: 'bottom-center',
            angel: 0,
            retina: true
          },
          text: {
            content: '京味斋烤鸭店',
            direction: 'top',
            offset: [0, 0],
            style: {
              fontSize: 13,
              fontWeight: 'normal',
              fillColor: '#fff',
              padding: '2, 5',
              backgroundColor: '#22884f'
            }
          }
        },
        {
          name: '脊骨土豆汤',
          position: [116.465586, 39.996780],
          zooms: [10, 20],
          opacity: 1,
          zIndex: 3,
          icon: {
            type: 'image',
            image: 'https://a.amap.com/jsapi_demos/static/images/poi-marker.png',
            clipOrigin: [635, 92],
            clipSize: [50, 68],
            size: [25, 34],
            anchor: 'bottom-center',
            angel: 0,
            retina: true
          },
          text: {
            content: '脊骨土豆汤',
            direction: 'top',
            offset: [0, 0],
            style: {
              fontSize: 15,
              fontWeight: 'normal',
              fillColor: '#333',
              strokeColor: '#fff',
              strokeWidth: 2
            }
          }
        },
        {
          name: '山西刀削面',
          position: [116.472881, 39.997064],
          zooms: [10, 20],
          zIndex: 2,
          opacity: 1,
          icon: {
            type: 'image',
            image: 'https://a.amap.com/jsapi_demos/static/images/poi-marker.png',
            clipOrigin: [723, 92],
            clipSize: [50, 68],
            size: [25, 34],
            anchor: 'bottom-center',
            angel: 0,
            retina: true
          },
          text: {
            content: '山西刀削面',
            direction: 'top',
            offset: [0, 0],
            style: {
              fontSize: 13,
              fontWeight: 'normal',
              fillColor: '#fff',
              padding: '2, 5',
              backgroundColor: '#b1009b'
            }
          }
        }
      ]
    }
  },
  created () {
  },
  mounted () {
    var map = new window.AMap.Map('container', {
      zoom: 4
    })

    var layer = new window.AMap.LabelsLayer({
      zooms: [3, 20],
      zIndex: 1000,
      // 开启标注避让，默认为开启，v1.4.15 新增属性
      collision: true,
      // 开启标注淡入动画，默认为开启，v1.4.15 新增属性
      animation: true
    })

    map.add(layer)

    const markers = []

    for (let i = 0; i < this.LabelsData.length; i++) {
      const curData = this.LabelsData[i]
      curData.extData = {
        index: i
      }

      var labelMarker = new window.AMap.LabelMarker(curData)

      markers.push(labelMarker)

      layer.add(labelMarker)
    }

    map.setFitView()
  }
}
</script>

<!-- Add "scoped" attribute to limit CSS to this component only -->
<style scoped>
#container{
  width:1600px;
  height: 800px;
}
</style>
